import{r as g,f as u,n as k,j as e,e as x,o as E,p as B,b as c,H as I,q as h,M as U,s as z,t as D,v as H,x as N,y as _,V as p,z as i,A as W,B as m,C as A,S as F,L}from"./react-vendor-Bhg-ak87.js";import{u as j}from"./product-DXw3c5HC.js";import{D as O,E as V,F as G}from"./chakra-vendor-DlfHZo-k.js";import"./vendor-BMMM4xHm.js";const R=({product:t})=>{const[s,a]=g.useState(t),f=u("gray.600","gray.200"),C=u("white","gray.800"),{isOpen:b,onOpen:P,onClose:l}=O(),{deleteProduct:S,updateProduct:v}=j(),d=k(),y=async o=>{if(!o)return;const{success:r,message:n}=await S(o);d({title:r?"Success":"Error",description:n,status:r?"success":"error",isClosable:!0})},M=async(o,r)=>{if(!o)return;const{success:n,message:w}=await v(o,r);d({title:n?"Success":"Error",description:w,status:n?"success":"error",isClosable:!0}),l()};return e.jsxs(x,{shadow:"lg",rounded:"lg",overflow:"hidden",transition:"all 0.3s",_hover:{transform:"translateY(-5px)",boxShadow:"xl"},bg:C,children:[e.jsx(E,{src:t.image||"https://via.placeholder.com/300",alt:t.name||"No Name",h:48,w:"full",objectFit:"cover"}),e.jsxs(x,{p:4,children:[e.jsxs(B,{as:"h3",size:"md",mb:2,children:[t.name||"Unnamed Product"," "]}),e.jsxs(c,{fontWeight:"bold",fontSize:"xl",color:f,mb:4,children:["$",t.price||"0.00"," "]}),e.jsxs(I,{spacing:2,children:[e.jsx(h,{icon:e.jsx(V,{}),onClick:P,colorScheme:"blue"}),e.jsx(h,{icon:e.jsx(G,{}),onClick:()=>y(t._id),colorScheme:"red"})]})]}),e.jsxs(U,{isOpen:b,onClose:l,children:[e.jsx(z,{}),e.jsxs(D,{children:[e.jsx(H,{children:"Update Product"}),e.jsx(N,{}),e.jsx(_,{children:e.jsxs(p,{spacing:4,children:[e.jsx(i,{placeholder:"Product Name",name:"name",value:s.name,onChange:o=>a({...s,name:o.target.value})}),e.jsx(i,{placeholder:"Product Price",name:"price",type:"number",value:s.price,onChange:o=>a({...s,price:Number(o.target.value)})}),e.jsx(i,{placeholder:"Image URL",name:"image",value:s.image,onChange:o=>a({...s,image:o.target.value})})]})}),e.jsxs(W,{children:[e.jsx(m,{colorScheme:"blue",mr:3,onClick:()=>M(t._id,s),children:"Update"}),e.jsx(m,{value:"ghost",onClick:l,children:"Cancel"})]})]})]})]})},J=()=>{const{fetchProducts:t,products:s}=j();return g.useEffect(()=>{t()},[t]),console.log("products",s),e.jsx(A,{maxW:"container.xl",py:12,children:e.jsxs(p,{spacing:8,children:[e.jsx(c,{fontSize:"30",fontWeight:"bold",bgGradient:"linear(to-r, cyan.400, blue.500)",bgClip:"text",textAlign:"center",children:"Current Products ðŸš€"}),e.jsx(F,{columns:{base:1,md:2,lg:3},spacing:10,w:"full",children:s.map(a=>e.jsx(R,{product:a},a._id))}),s.length===0&&e.jsxs(c,{fontSize:"xl",textAlign:"center",fontWeight:"bold",color:"gray.500",children:["No products found ðŸ˜¢"," ",e.jsx(L,{to:"/create",children:e.jsx(c,{as:"span",color:"blue.500",_hover:{textDecoration:"underline"},children:"Create a product"})})]})]})})};export{J as default};
