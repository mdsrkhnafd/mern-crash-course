import{n as w,f as S,l as A,z as k,s as C,j as f,e as I,r as m,k as v,D as h,E as P,S as L,F,G as H,I as G,J as K,K as Q,M as U,R as N}from"./index-DRblpEPm.js";function _(...a){return function(o){a.some(e=>(e==null||e(o),o==null?void 0:o.defaultPrevented))}}const[W,X]=w({name:"FormControlStylesContext",errorMessage:`useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in "<FormControl />" `}),[Y,D]=w({strict:!1,name:"FormControlContext"});function Z(a){const{id:t,isRequired:o,isInvalid:e,isDisabled:s,isReadOnly:r,...n}=a,c=m.useId(),i=t||`field-${c}`,u=`${i}-label`,b=`${i}-feedback`,d=`${i}-helptext`,[y,g]=m.useState(!1),[M,R]=m.useState(!1),[x,j]=m.useState(!1),$=m.useCallback((l={},p=null)=>({id:d,...l,ref:v(p,T=>{T&&R(!0)})}),[d]),z=m.useCallback((l={},p=null)=>({...l,ref:p,"data-focus":h(x),"data-disabled":h(s),"data-invalid":h(e),"data-readonly":h(r),id:l.id!==void 0?l.id:u,htmlFor:l.htmlFor!==void 0?l.htmlFor:i}),[i,s,x,e,r,u]),B=m.useCallback((l={},p=null)=>({id:b,...l,ref:v(p,T=>{T&&g(!0)}),"aria-live":"polite"}),[b]),V=m.useCallback((l={},p=null)=>({...l,...n,ref:p,role:"group","data-focus":h(x),"data-disabled":h(s),"data-invalid":h(e),"data-readonly":h(r)}),[n,s,x,e,r]),J=m.useCallback((l={},p=null)=>({...l,ref:p,role:"presentation","aria-hidden":!0,children:l.children||"*"}),[]);return{isRequired:!!o,isInvalid:!!e,isReadOnly:!!r,isDisabled:!!s,isFocused:!!x,onFocus:()=>j(!0),onBlur:()=>j(!1),hasFeedbackText:y,setHasFeedbackText:g,hasHelpText:M,setHasHelpText:R,id:i,labelId:u,feedbackId:b,helpTextId:d,htmlProps:n,getHelpTextProps:$,getErrorMessageProps:B,getRootProps:V,getLabelProps:z,getRequiredIndicatorProps:J}}const tt=S(function(t,o){const e=A("Form",t),s=k(t),{getRootProps:r,htmlProps:n,...c}=Z(s),i=C("chakra-form-control",t.className);return f.jsx(Y,{value:c,children:f.jsx(W,{value:e,children:f.jsx(I.div,{...r({},o),className:i,__css:e.container})})})});tt.displayName="FormControl";const et=S(function(t,o){const e=D(),s=X(),r=C("chakra-form__helper-text",t.className);return f.jsx(I.div,{...e==null?void 0:e.getHelpTextProps(t,o),__css:s.helperText,className:r})});et.displayName="FormHelperText";function st(a){const{isDisabled:t,isInvalid:o,isReadOnly:e,isRequired:s,...r}=at(a);return{...r,disabled:t,readOnly:e,required:s,"aria-invalid":P(o),"aria-required":P(s),"aria-readonly":P(e)}}function at(a){const t=D(),{id:o,disabled:e,readOnly:s,required:r,isRequired:n,isInvalid:c,isReadOnly:i,isDisabled:u,onFocus:b,onBlur:d,...y}=a,g=a["aria-describedby"]?[a["aria-describedby"]]:[];return t!=null&&t.hasFeedbackText&&(t!=null&&t.isInvalid)&&g.push(t.feedbackId),t!=null&&t.hasHelpText&&g.push(t.helpTextId),{...y,"aria-describedby":g.join(" ")||void 0,id:o??(t==null?void 0:t.id),isDisabled:e??u??(t==null?void 0:t.isDisabled),isReadOnly:s??i??(t==null?void 0:t.isReadOnly),isRequired:r??n??(t==null?void 0:t.isRequired),isInvalid:c??(t==null?void 0:t.isInvalid),onFocus:_(t==null?void 0:t.onFocus,b),onBlur:_(t==null?void 0:t.onBlur,d)}}const E=S(function(t,o){const{htmlSize:e,...s}=t,r=A("Input",s),n=k(s),c=st(n),i=C("chakra-input",t.className);return f.jsx(I.input,{size:e,...c,__css:r.field,ref:o,className:i})});E.displayName="Input";E.id="Input";const ot=S((a,t)=>f.jsx(L,{align:"center",...a,direction:"column",ref:t}));ot.displayName="VStack";function rt(a,t){const o=a??"bottom",s={"top-start":{ltr:"top-left",rtl:"top-right"},"top-end":{ltr:"top-right",rtl:"top-left"},"bottom-start":{ltr:"bottom-left",rtl:"bottom-right"},"bottom-end":{ltr:"bottom-right",rtl:"bottom-left"}}[o];return(s==null?void 0:s[t])??o}function nt(a,t){const o=s=>({...t,...s,position:rt((s==null?void 0:s.position)??(t==null?void 0:t.position),a)}),e=s=>{const r=o(s),n=G(r);return F.notify(n,r)};return e.update=(s,r)=>{F.update(s,o(r))},e.promise=(s,r)=>{const n=e({...r.loading,status:"loading",duration:null});s.then(c=>e.update(n,{status:"success",duration:5e3,...H(r.success,c)})).catch(c=>e.update(n,{status:"error",duration:5e3,...H(r.error,c)}))},e.closeAll=F.closeAll,e.close=F.close,e.isActive=F.isActive,e}function pt(a){const{theme:t}=K(),o=Q();return m.useMemo(()=>nt(t.direction,{...o,...a}),[a,t.direction,o])}const ct=S(function(t,o){const e=U("Heading",t),{className:s,...r}=k(t);return f.jsx(I.h2,{ref:o,className:C("chakra-heading",t.className),...r,__css:e})});ct.displayName="Heading";const O=a=>{let t;const o=new Set,e=(u,b)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const y=t;t=b??(typeof d!="object"||d===null)?d:Object.assign({},t,d),o.forEach(g=>g(t,y))}},s=()=>t,c={setState:e,getState:s,getInitialState:()=>i,subscribe:u=>(o.add(u),()=>o.delete(u))},i=t=a(e,s,c);return c},it=a=>a?O(a):O,lt=a=>a;function ut(a,t=lt){const o=N.useSyncExternalStore(a.subscribe,()=>t(a.getState()),()=>t(a.getInitialState()));return N.useDebugValue(o),o}const q=a=>{const t=it(a),o=e=>ut(t,e);return Object.assign(o,t),o},dt=a=>a?q(a):q,bt=dt(a=>({products:[],setProducts:t=>a({products:t}),createProduct:async t=>{if(!t.name||!t.image||!t.price)return{success:!1,message:"All fields are required"};const e=await(await fetch("api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();return a(s=>({products:[...s.products,e.data]})),{success:!0,message:"Product created successfully"}},fetchProducts:async()=>{const o=await(await fetch("api/products")).json();a({products:o.data})},deleteProduct:async t=>{const e=await(await fetch(`api/products/${t}`,{method:"DELETE"})).json();return e.success?(a(s=>({products:s.products.filter(r=>r._id!==t)})),{success:!0,message:e.message}):{success:!1,message:e.message}},updateProduct:async(t,o)=>{const s=await(await fetch(`api/products/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();return s.success?(a(r=>({products:r.products.map(n=>n._id===t?s.data:n)})),{success:!0,message:s.message}):{success:!1,message:s.message}}}));export{ct as H,E as I,ot as V,pt as a,_ as c,bt as u};
